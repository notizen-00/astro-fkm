---
import Logo from "@components/base/Logo.astro";
import ButtonMain from "@components/base/ButtonMain.astro";
import ThemeToggler from "@components/base/ThemeToggler.astro";
import Hamburger from "@components/base/Hamburger.astro";
import NavbarSearchFilters from "@components/navigation/NavbarSearchFilters.astro";
---
<div
  x-cloak
  x-data="navbar()"
  x-on:scroll.window="scroll()"
  class="fixed top-0 left-0 w-full z-50 transition-all duration-300"
  :class="scrolled || $store.app.mobileOpen ? 'bg-white dark:bg-muted-900 shadow-lg shadow-muted-300/30 dark:shadow-muted-900/40' : ''"
>
  <div
    class="w-full max-w-7xl mx-auto flex items-center justify-between pl-4 pr-0 lg:pr-4 font-sans"
  >
    <!-- Left -->
    <div class="w-full lg:w-auto flex items-center gap-6">
      <a href="/" class="flex items-center gap-3">
        <div
          class="transition-all duration-300"
          :class="scrolled || $store.app.mobileOpen ? 'text-rose-500 rotate-90' : 'text-primary-600'"
        >
          <Logo class="'w-9 h-9'" />
        </div>
        <span
          class="font-sans text-lg tracking-widest text-muted-800 dark:text-muted-100"
          >Agro-Coastal Community</span
        >
      </a>
      <div class="flex items-center justify-center h-20 w-20 lg:hidden ml-auto">
        <Hamburger />
      </div>
    </div>
    <!-- Right -->
    <div
      class="flex-col items-center lg:justify-end gap-x-6"
      :class="$store.app.mobileOpen ? 'absolute top-[80px] left-0 w-full flex text-center px-6 pt-2 pb-6 border-t border-muted-200 dark:border-muted-800 bg-white dark:bg-muted-900 shadow-lg shadow-muted-300/40 dark:shadow-muted-900/50' : 'hidden lg:flex lg:flex-row'"
    >
      <div class="flex flex-col lg:flex-row items-center gap-x-6">
        <div class="relative py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full after:transition-all after:duration-300 transition-colors duration-300" :class="currentUrl.includes('doctors') ? 'text-primary-500 after:bg-primary-500 after:w-full' : 'text-slate-500 dark:text-slate-400 hover:text-muted-700 dark:hover:text-muted-100 after:w-0'">
          <a href="/">Beranda</a>
        </div>
        <div class="relative py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full after:transition-all after:duration-300 transition-colors duration-300" x-data="{ isOpen: false }">
          <a href="/inovasi" @click.prevent="isOpen = !isOpen" class="text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800" :class="{'text-primary-500 after:bg-primary-500 after:w-full': isOpen}">
            <span class="flex items-center justify-between">
              <span>Profil</span>
              <svg class="w-4 h-4 transform transition-transform duration-300" :class="{'rotate-180': isOpen}" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </span>
          </a>
         
          <div class="absolute py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full" :class="{'absolute left-0 w-48 mt-2 py-2 bg-white dark:bg-muted-900 rounded-md shadow-lg': !$store.app.mobileOpen, 'hidden': !isOpen, 'block': isOpen}" x-show="isOpen" @click.away="isOpen = false">
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Visi & Misi</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Struktur Organisasi</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Sejarah</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Program Studi</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Peminatan</a>
          </div>
          
        </div>
        

        
        <div class="relative py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full after:transition-all after:duration-300 transition-colors duration-300" x-data="{ isOpen: false }">
          <a href="/inovasi" @click.prevent="isOpen = !isOpen" class="text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800" :class="{'text-primary-500 after:bg-primary-500 after:w-full': isOpen}">
            <span class="flex items-center justify-between">
              <span class="whitespace-nowrap">Penjaminan Mutu</span>
              <svg class="w-4 h-4 transform transition-transform duration-300" :class="{'rotate-180': isOpen}" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </span>
            
          </a>
          <div class="absolute py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full" :class="{'absolute left-0 w-48 mt-2 py-2 bg-white dark:bg-muted-900 rounded-md shadow-lg': !$store.app.mobileOpen, 'hidden': !isOpen, 'block': isOpen}" x-show="isOpen" @click.away="isOpen = false">
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Analisis Risiko</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Audit Mutu Internal</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Dokumen SPMI</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Laporan Akuntabilitas Kinerja</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Laporan Kegiatan GPM</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Standar Operasional Prosedur</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Struktur Operasional GPM</a>
          </div>
        </div>
        <div class="relative py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full after:transition-all after:duration-300 transition-colors duration-300" x-data="{ isOpen: false }">
          <a href="/inovasi" @click.prevent="isOpen = !isOpen" class="text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800" :class="{'text-primary-500 after:bg-primary-500 after:w-full': isOpen}">
            <span class="flex items-center justify-between">
              <span>Kemahasiswaan</span>
              <svg class="w-4 h-4 transform transition-transform duration-300" :class="{'rotate-180': isOpen}" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </span>
          </a>
          <div class="absolute py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full" :class="{'absolute left-0 w-48 mt-2 py-2 bg-white dark:bg-muted-900 rounded-md shadow-lg': !$store.app.mobileOpen, 'hidden': !isOpen, 'block': isOpen}" x-show="isOpen" @click.away="isOpen = false">
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Badan Eksekutif Mahasiswa</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Badan Perwakilan Mahasiswa</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">HIMAGIZI</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">HIMAKESMA</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Pengengalan Kehidupan Kampus Mahasiswa Baru</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Unit Kegiatan Mahasiswa</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Prestasi Mahasiswa</a>
          </div>
        </div>
        <div class="relative py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full after:transition-all after:duration-300 transition-colors duration-300" x-data="{ isOpen: false }">
          <a href="/inovasi" @click.prevent="isOpen = !isOpen" class="text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800" :class="{'text-primary-500 after:bg-primary-500 after:w-full': isOpen}">
            <span class="flex items-center justify-between">
              <span>Fasilitas</span>
              <svg class="w-4 h-4 transform transition-transform duration-300" :class="{'rotate-180': isOpen}" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </span>
          </a>
          <div class="absolute py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full" :class="{'absolute left-0 w-48 mt-2 py-2 bg-white dark:bg-muted-900 rounded-md shadow-lg': !$store.app.mobileOpen, 'hidden': !isOpen, 'block': isOpen}" x-show="isOpen" @click.away="isOpen = false">
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Laboratorium AVA (PKIP)</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Laboratorium Epidemiologi</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Laboratorium Gizi</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Laboratorium Kesehatan dan Keselamatan Kerja</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Laboratorium Kesehatan Lingkungan</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Ruang Baca</a>
          </div>
        </div>
     
        
        <div class="relative py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full after:transition-all after:duration-300 transition-colors duration-300" x-data="{ isOpen: false }">
          <a href="/inovasi" @click.prevent="isOpen = !isOpen" class="text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800" :class="{'text-primary-500 after:bg-primary-500 after:w-full': isOpen}">
            <span class="flex items-center justify-between">
              <span>Akademik</span>
              <svg class="w-4 h-4 transform transition-transform duration-300" :class="{'rotate-180': isOpen}" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </span>
          </a>
          <div class="absolute py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full" :class="{'absolute left-0 w-48 mt-2 py-2 bg-white dark:bg-muted-900 rounded-md shadow-lg': !$store.app.mobileOpen, 'hidden': !isOpen, 'block': isOpen}" x-show="isOpen" @click.away="isOpen = false">
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Beasiswa</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Buku Pedoman Akademik 2023</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Mata Kuliah S1 Gizi</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:texts-late-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Mata Kuliah S1 Kesehatan Masyarakat</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Kaji Etik Penelitian Kesehatan</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Kalender Akademik</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Pengalaman Belajar Lapangan</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Program Magang Mahasiswa</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Struktur Kurikulum S1 Gizi</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Struktur Kurikulum S1 Kesehatan Masyarakat</a>
            <a href="#" class="block px-4 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-muted-800">Webinar</a>
          </div>
        </div>    
        <div class="w-full md:w-auto">
          <ButtonMain to={"https://blog.fkm.unej.ac.id/"} target={false} class="'w-full md:w-[240px] lg:w-[110px]'">Blog</ButtonMain>
        </div>
        <div class="flex items-center justify-center h-20 w-20">
          <ThemeToggler />
        </div>
      </div>

      
     
    </div>
  </div>
</div>







